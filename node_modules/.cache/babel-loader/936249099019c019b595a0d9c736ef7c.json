{"remainingRequest":"D:\\vue项目\\music-app\\wangyiyun\\node_modules\\babel-loader\\lib\\index.js!D:\\vue项目\\music-app\\wangyiyun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue项目\\music-app\\wangyiyun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue项目\\music-app\\wangyiyun\\src\\components\\item\\footerMusic.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue项目\\music-app\\wangyiyun\\src\\components\\item\\footerMusic.vue","mtime":1657098435087},{"path":"D:\\vue项目\\music-app\\wangyiyun\\babel.config.js","mtime":1655731244645},{"path":"D:\\vue项目\\music-app\\wangyiyun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655719252265},{"path":"D:\\vue项目\\music-app\\wangyiyun\\node_modules\\babel-loader\\lib\\index.js","mtime":1655719253614},{"path":"D:\\vue项目\\music-app\\wangyiyun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655719252265},{"path":"D:\\vue项目\\music-app\\wangyiyun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1655719253982}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdnVlXHU5ODc5XHU3NkVFL211c2ljLWFwcC93YW5neWl5dW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBQb3BEZXRhaWwgZnJvbSAnLi9wb3BEZXRhaWwudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnRlclZhbDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInBsYXlMaXN0IiwgInBsYXlMaXN0SW5kZXgiLCAiaXNCdG5TaG93IiwgImRldGFpbFNob3ciLCAiZHVyYXRpb24iXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoewogICAgcGxheTogZnVuY3Rpb24gcGxheSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuYXVkaW8ucGF1c2VkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5hdWRpby5wbGF5KCk7CiAgICAgICAgdGhpcy51cGRhdGFJc0J0blNob3coZmFsc2UpOwogICAgICAgIHRoaXMudXBkYXRlVGltZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGF1c2UoKTsKICAgICAgICB0aGlzLnVwZGF0YUlzQnRuU2hvdyh0cnVlKTsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJWYWwpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlVGltZTogZnVuY3Rpb24gdXBkYXRlVGltZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaW50ZXJWYWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXBkYXRlQ3VycmVudFRpbWUoX3RoaXMuJHJlZnMuYXVkaW8uY3VycmVudFRpbWUpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGREdXJhdGlvbjogZnVuY3Rpb24gYWRkRHVyYXRpb24oKSB7CiAgICAgIHRoaXMudXBkYXRlRHVyYXRpb24odGhpcy4kcmVmcy5hdWRpby5kdXJhdGlvbik7CiAgICB9CiAgfSwgbWFwTXV0YXRpb25zKFsidXBkYXRhSXNCdG5TaG93IiwgInVwZGF0ZURldGFpbFNob3ciLCAidXBkYXRlQ3VycmVudFRpbWUiLCAidXBkYXRlRHVyYXRpb24iXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0THlyaWMiLCB0aGlzLnBsYXlMaXN0W3RoaXMucGxheUxpc3RJbmRleF0uaWQpOwogICAgdGhpcy51cGRhdGVDdXJyZW50VGltZSh0aGlzLiRyZWZzLmF1ZGlvLmN1cnJlbnRUaW1lKTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0THlyaWMiLCB0aGlzLnBsYXlMaXN0W3RoaXMucGxheUxpc3RJbmRleF0uaWQpOwogICAgdGhpcy5hZGREdXJhdGlvbjsKICB9LAogIHdhdGNoOiB7CiAgICBwbGF5TGlzdEluZGV4OiBmdW5jdGlvbiBwbGF5TGlzdEluZGV4KCkgewogICAgICB0aGlzLiRyZWZzLmF1ZGlvLmF1dG9wbGF5ID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmF1ZGlvLnBhdXNlZCkgewogICAgICAgIHRoaXMudXBkYXRhSXNCdG5TaG93KGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIHBsYXlMaXN0OiBmdW5jdGlvbiBwbGF5TGlzdCgpIHsKICAgICAgaWYgKHRoaXMuaXNCdG5TaG93KSB7CiAgICAgICAgdGhpcy4kcmVmcy5hdWRpby5hdXRvcGxheSA9IHRydWU7CiAgICAgICAgdGhpcy51cGRhdGFJc0J0blNob3coZmFsc2UpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBQb3BEZXRhaWw6IFBvcERldGFpbAogIH0KfTs="},{"version":3,"mappings":";AAuBA,SAASA,YAAT,EAAuBC,QAAvB,QAAuC,MAAvC;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,eAAe;EACbC,IADa,kBACN;IACL,OAAO;MACHC,QAAQ,EAAC;IADN,CAAP;EAGC,CALU;EAMXC,QAAQ,oBACDJ,QAAQ,CAAC,CAAC,UAAD,EAAa,eAAb,EAA8B,WAA9B,EAA2C,YAA3C,EAAwD,UAAxD,CAAD,CADP,CANG;EASXK,OAAO;IACHC,IAAI,EAAE,gBAAY;MACd,IAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAArB,EAA6B;QACzB,KAAKF,KAAL,CAAWC,KAAX,CAAiBF,IAAjB;QACA,KAAKI,eAAL,CAAqB,KAArB;QACA,KAAKC,UAAL;MACJ,CAJA,MAKK;QACD,KAAKJ,KAAL,CAAWC,KAAX,CAAiBI,KAAjB;QACF,KAAKF,eAAL,CAAqB,IAArB;QACEG,aAAa,CAAC,KAAKV,QAAN,CAAb;MACJ;IACL,CAZI;IAaLQ,UAAU,EAAE,sBAAY;MAAA;;MACtB,KAAKR,QAAL,GAAgBW,WAAW,CAAC,YAAM;QAC5B,KAAI,CAACC,iBAAL,CAAuB,KAAI,CAACR,KAAL,CAAWC,KAAX,CAAiBQ,WAAxC;MACH,CAFwB,CAA3B;IAGD,CAjBI;IAkBLC,WAAW,EAAE,uBAAY;MACrB,KAAKC,cAAL,CAAoB,KAAKX,KAAL,CAAWC,KAAX,CAAiBW,QAArC;IACD;EApBE,GAqBApB,YAAY,CAAC,CAAC,iBAAD,EAAoB,kBAApB,EAAuC,mBAAvC,EAA2D,gBAA3D,CAAD,CArBZ,CATI;EAgCXqB,OAhCW,qBAgCD;IACP,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC,KAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkCC,EAAnE;IACD,KAAKV,iBAAL,CAAuB,KAAKR,KAAL,CAAWC,KAAX,CAAiBQ,WAAxC;EAED,CApCU;EAqCXU,OArCW,qBAqCD;IACR,KAAKL,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC,KAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkCC,EAAnE;IACC,KAAKR,WAAL;EACF,CAxCU;EAyCXU,KAAK,EAAE;IACHH,aAAa,EAAE,yBAAY;MACvB,KAAKjB,KAAL,CAAWC,KAAX,CAAiBoB,QAAjB,GAA4B,IAA5B;;MACA,IAAI,KAAKrB,KAAL,CAAWC,KAAX,CAAiBC,MAArB,EAA6B;QACzB,KAAKC,eAAL,CAAqB,KAArB;MACJ;IACH,CANE;IAOHa,QAAQ,EAAE,oBAAY;MAClB,IAAI,KAAKM,SAAT,EAAoB;QAChB,KAAKtB,KAAL,CAAWC,KAAX,CAAiBoB,QAAjB,GAA4B,IAA5B;QACF,KAAKlB,eAAL,CAAqB,KAArB;MAEF;IACL;EAbI,CAzCI;EAyDXoB,UAAU,EAAE;IAAE7B,SAAQ,EAARA;EAAF;AAzDD,CAAf","names":["mapMutations","mapState","PopDetail","data","interVal","computed","methods","play","$refs","audio","paused","updataIsBtnShow","updateTime","pause","clearInterval","setInterval","updateCurrentTime","currentTime","addDuration","updateDuration","duration","mounted","$store","dispatch","playList","playListIndex","id","updated","watch","autoplay","isBtnShow","components"],"sourceRoot":"","sources":["D:\\vue项目\\music-app\\wangyiyun\\src\\components\\item\\footerMusic.vue"],"sourcesContent":["<template>\r\n <div class=\"footer\">\r\n   <div class=\"footer-left\" @click=\"updateDetailShow\">\r\n    <img :src=\"playList[playListIndex].al.picUrl\"/>\r\n    <div class=\"musictext\">\r\n       <p>{{playList[playListIndex].name}}</p>\r\n       <span>横划切换歌曲</span>\r\n    </div>\r\n</div>\r\n   <div class=\"footer-right\">\r\n       <van-icon name=\"play-circle-o\" size='40' @click=\"play\" v-if=\"isBtnShow\" />\r\n       <van-icon name=\"pause-circle-o\" size='40' @click=\"play\" v-else=\"isBtnShow\" />\r\n       <van-icon name=\"orders-o\" size='40'/>\r\n   </div>\r\n   <audio ref=\"audio\" :src=\"`https://music.163.com/song/media/outer/url?id=${playList[playListIndex].id}.mp3`\"></audio>\r\n     <van-popup v-model:show=\"detailShow\" position=\"right\" :style=\"{ height: '100%' ,width:'100%'}\" >  \r\n     <pop-detail :musicList=\"playList[playListIndex]\" :play=\"play\" :isbtnShow=\"isBtnShow\" :addDuration=\"addDuration\"></pop-detail>\r\n     </van-popup>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport PopDetail from './popDetail.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n        interVal:0\r\n      }\r\n    },\r\n    computed: {\r\n        ...mapState([\"playList\", \"playListIndex\", \"isBtnShow\", \"detailShow\",\"duration\"])\r\n    },\r\n    methods: {\r\n        play: function () {\r\n            if (this.$refs.audio.paused) {\r\n                this.$refs.audio.play();\r\n                this.updataIsBtnShow(false);\r\n                this.updateTime();\r\n            }\r\n            else {\r\n                this.$refs.audio.pause();\r\n              this.updataIsBtnShow(true);\r\n                clearInterval(this.interVal)\r\n            }\r\n      },\r\n      updateTime: function () {\r\n        this.interVal = setInterval(() => {\r\n              this.updateCurrentTime(this.$refs.audio.currentTime)\r\n          })\r\n      },\r\n      addDuration: function () {\r\n          this.updateDuration(this.$refs.audio.duration)\r\n        },\r\n        ...mapMutations([\"updataIsBtnShow\", \"updateDetailShow\",\"updateCurrentTime\",\"updateDuration\"]),\r\n  },\r\n    mounted() {\r\n       this.$store.dispatch(\"getLyric\", this.playList[this.playListIndex].id)\r\n      this.updateCurrentTime(this.$refs.audio.currentTime)\r\n       \r\n    },\r\n    updated() {\r\n      this.$store.dispatch(\"getLyric\", this.playList[this.playListIndex].id)\r\n       this.addDuration\r\n    },\r\n    watch: {\r\n        playListIndex: function () {\r\n            this.$refs.audio.autoplay = true;\r\n            if (this.$refs.audio.paused) {\r\n                this.updataIsBtnShow(false);\r\n            }\r\n        },\r\n        playList: function () {\r\n            if (this.isBtnShow) {\r\n                this.$refs.audio.autoplay = true;\r\n              this.updataIsBtnShow(false);\r\n                \r\n            }\r\n      },\r\n        \r\n    },\r\n    components: { PopDetail }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.footer{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 1.2rem;\r\n    background-color: #fff;\r\n    bottom:0;\r\n    border-top: 1px solid #999;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    .footer-left{\r\n      width: 70%;\r\n      height: 100%;\r\n      display: flex;\r\n     img{\r\n      height: 1.5rem;\r\n      width: 1.5rem;\r\n    }\r\n    .musictext{\r\n      p{font-size: 0.1rem;}\r\n    }\r\n    }\r\n    .footer-right{\r\n      width: 30%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      .van-icon{\r\n        padding-right: 15px;\r\n      }\r\n    }\r\n}\r\n</style>"]}]}